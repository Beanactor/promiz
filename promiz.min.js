!function(){function d(){this.state="pending";this.a=null;this.stack=[];this.g=!1;this.c=function(b){"pending"===this.state&&(this.state="resolved",this.d(b));return this};this.b=function(b){"pending"===this.state&&(this.state="rejected",this.d(b));return this};this.e=function(b,a){this.stack.push([b,a]);"pending"!==this.state&&this.d();return this};this.all=function(){var b=new d;this.stack.push([function(a){a=a?a instanceof Array?a:[a]:[];if(0===a.length)return a;for(var c=0,e=a.length,f=e;f--;)(function(){var g=
f,d=a[g];d&&d.e?d.e(function(d){a[g]=d;c++;c===e&&b.c(a)},function(a){b.b(a)}):(a[g]=d,c++,c===e&&b.c(a))})();return null},null]);"pending"!==this.state&&this.d();return b};this.d=function(b){var a=this;for(this.a="undefined"!==typeof b?b:this.a;this.stack.length&&"pending"!==this.state;){var c=this.stack.shift();if(b="rejected"===this.state?c[1]:c[0])try{if((this.a=b.call(null,this.a))&&"function"===typeof this.a.e){var d=this.state;this.state="pending";this.a.e(function(b){a.c(b)},function(b){"rejected"!==
d&&c[1]&&a.stack.unshift(c);a.b(b)})}else this.state="resolved"}catch(f){this.a=f,"rejected"!==this.state&&c[1]&&this.stack.unshift(c),this.state="rejected"}}if(this.g&&0===this.stack.length&&"rejected"===this.state)throw this.a;}}var h={defer:function(){return new d},h:function(){var b=new d,a=Array.apply([],arguments),c=a.shift();try{var e=c.apply(null,a);b.c(e)}catch(f){b.b(f)}return b},i:function(){var b=new d,a=Array.apply([],arguments),c=a.shift();try{a.push(function(a,c){return a?b.b(a):b.c(c)}),
c.apply(null,a)}catch(e){b.b(e)}return b}};"undefined"!==typeof module&&module.f&&(module.f=h)}();