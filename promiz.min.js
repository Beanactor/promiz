(function(){function p(l,m){function g(){var d;try{d=b&&b.c}catch(h){return b=h,a="rejecting",g()}k(d,function(){a="resolving";g()},function(){a="rejecting";g()},function(){if("resolving"===a&&"function"===typeof l)try{b=l(b)}catch(f){return b=f,c("rejected")}if("rejecting"===a&&"function"===typeof m)try{b=m(b),a="resolving"}catch(h){return b=h,c("rejected")}if(b===e)return b=TypeError(),c("rejected");k(d,function(){c("resolved")},function(){c("rejected")},function(){"resolving"===a?c("resolved"):
c("rejected")})})}function k(a,h,f,e){if("object"===typeof b&&"function"===typeof a)try{var c=0;a.call(b,function(a){0===c++&&(b=a,h())},function(a){0===c++&&(b=a,f())})}catch(g){b=g,f()}else e()}function c(d){a=d;"resolved"===a&&n.map(function(a){a.b(b)});"rejected"===a&&n.map(function(a){a.a(b)})}var e=this;e.h=e;var a="pending",b=null;l=l||null;m=m||null;var n=[];e.b=function(d){"pending"===a&&(b=d,a="resolving",setImmediate(function(){g()}))};e.a=function(d){"pending"===a&&(b=d,a="rejecting",
setImmediate(function(){g()}))};e.c=function(d,c){var f=new p(d,c);n.push(f);f.g=e;"resolved"===a&&f.b(b);"rejected"===a&&f.a(b);return f};e.f=function(a){return e.c(null,a)}}var k={defer:function(){return new p(null,null)}};"undefined"!==typeof module?module.e=k:self.d=k})();
